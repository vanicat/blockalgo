<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>BlockAlgo</title>
    <script src="blockly/blockly_compressed.js"></script>
    <script src="blockly/blocks_compressed.js"></script>
    <script src="blockly/javascript_compressed.js"></script>
    <script src="blockly/msg/js/fr.js"></script>
    <script src="acorn.js"></script>
    <script src="interpreter.js"></script>
    <script src="myblocks.js"></script>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
  </head>
  <body id="main">
    <h1>BlockAlgo: l'algorithmique au lycée avec des bloques</h1>
    <div id="bloclkly_frame" class="frame"><label>L'algorithme</label>
      <div id="blocklyDiv" style="height: 480px; width: 99%;"></div>
    </div>
    <div id="control">
      <button type="button" onclick="runButton()">Tester le code</button>
      <button type="button" onclick="clean()">Vider la console</button>
      <button type="button" onclick="saveWorkspace()">Sauver</button>
      <button type="button" onclick="loadWorkspace()">Recharger</button>
    </div>
    <br/><br/>
    <div id="console_frame" class="frame"><label>Résultats</label>
      <div id="console" class="console"></div>
    </div>
    <br/><br/>
    <div id="code_frame" class="frame">
      <label>Traduction de l'algorithme en Javascript</label>
      <pre id="code" class="code"></div>
    </div>
    <div id="xml_frame" class="frame">
      <label>XML du code</label><br/>
      <textarea id="xml" class="xml" wrap="off" style="height: 480px; width: 99%;">
      </textarea>
    </div>


    <xml id="toolbox" style="display: none">
      <category name="Logique" colour="210">
        <block type="controls_if"></block>
        <block type="controls_if">
          <mutation else="1"></mutation>
        </block>
        <block type="logic_compare"></block>
        <block type="math_number_property"></block>
      </category>
      <category name="Boucles" colour="120">
        <block type="controls_pour">
          <value name="FROM">
            <block type="math_number">
              <field name="NUM">1</field>
            </block>
          </value>
          <value name="TO">
            <block type="math_number">
              <field name="NUM">10</field>
            </block>
          </value>
          <value name="BY">
            <block type="math_number">
              <field name="NUM">1</field>
            </block>
          </value>
        </block>
        <block type="controls_whileUntil"></block>
        <block type="controls_repeat_ext">
          <value name="TIMES">
            <block type="math_number">
              <field name="NUM">10</field>
            </block>
          </value>
        </block>
      </category>
      <category name="Nombres" colour="230">
        <block type="math_number"></block>
        <block type="math_constant"></block>
        <block type="math_arithmetic"></block>
        <block type="math_single"></block>
        <block type="math_trig"></block>
      </category>
      <category name="Texte" colour="160">
        <block type="text"></block>
        <block type="text_print"></block>
      </category>
      <category name="Variables" colour="330" custom="VARIABLE">
      </category>
    </xml>


    <script src="blockalgo.js"> </script>
    <div class="license">
      © 2016 Rémi Vanicat
      <br/>
      Vous pouvez utilisez, modifier et redistribuer BlockAlgo suivant les termes de la licence <a href="http://www.apache.org/licenses/LICENSE-2.0">APACHE Version 2.0</a>, le code source est disponible sur <a href="https://github.com/vanicat/blockalgo">github</a>
      <br/>
      BlockAlgo contient et utilise la bibliothèque <a href="https://developers.google.com/blockly/">blockly</a>:<br/>
      <div class="sublicense">
        © 2008-2016 Google Inc. <br/>
        Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a> (the "License");
        you may not use this file except in compliance with the License.<br/>
      </div>
      BlockAlgo contient et utilise la bibliothèque <a href="https://neil.fraser.name/software/JS-Interpreter/">JS-Interpreter</a>:<br/>
      <div class="sublicense">
        © 2013 Google Inc. <br/>
        Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a> (the "License");
        you may not use this file except in compliance with the License.<br/>
        Disclaimer: This project is not an official Google product
      </div>
      BlockAlgo contient et utilise la bibliothèque <a href="https://github.com/marijnh/acorn">acorn</a>:<br/>
      <div class="sublicense">
        Acorn is a tiny, fast JavaScript parser written in JavaScript.<br/>
        <br/>
        Acorn was written by Marijn Haverbeke and released under an MIT license. The Unicode regexps (for identifiers and whitespace) were taken from <a href="http://esprima.org">Esprima</a> by Ariya Hidayat.
      </div>
  </body>
</html>
